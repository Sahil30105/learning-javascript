<!DOCTYPE html>
<html lang="en">
<head>
  <title>App</title>
</head>
<body>
  <button onclick="addMessage()">Add</button>
  <button onclick="removeMessage()">Remove</button>
  <p class="disp"></p>
  <script>
    let messages=2
    let intervalid;
    let timeoutid;

    

    function dispMessage(){
      intervalid=setInterval(function() {
        if (document.title === 'App') {
          document.title = `(${messages}) New messages`;
        } else {
          document.title = 'App';
        }
      }, 1000);
    }
    dispMessage();
    

    function addMessage(){
      if(messages==0){
        messages+=1;
        dispMessage();
      }else{
        messages+=1;
      }
    }
    function removeMessage(){
      if(messages==1){
        document.title='App';
        clearInterval(intervalid);
        messages-=1;
      }else if(messages==0){
        document.querySelector(".disp").innerHTML='Cannot go below 0';
        clearTimeout(timeoutid);
        timeoutid=setTimeout(()=>{
          document.querySelector(".disp").innerHTML='';
        },2000);  
      }else{
        messages-=1;
      }
      
      
    }

    /*
    setInterval(function() {
        if (document.title === 'App') {
          document.title = '(2) New messages';
        } else {
          document.title = 'App';
        }
      }, 1000);
    */
  </script>
</body>
</html>